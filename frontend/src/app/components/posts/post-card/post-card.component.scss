/* --- Variables --- */
:host {
  --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --c-text-main: #262626;
  --c-text-sec: #737373;
  --c-accent: #0095f6;
  --c-like: #ff3040;
  --c-bg: #ffffff;
  --c-border: #dbdbdb;
  --c-hover-bg: rgba(0, 0, 0, 0.04); /* Дуже легкий сірий */

  display: block;
  font-family: var(--font-main);
  color: var(--c-text-main);
}

.post-card {
  background: var(--c-bg);
  border: 1px solid var(--c-border);
  border-radius: 8px;
  margin-bottom: 24px;
  max-width: 470px;
  margin-left: auto;
  margin-right: auto;
}

/* --- HEADER --- */
.post-header {
  padding: 14px 16px; /* Трохи більше повітря */

  .user-group {
    display: flex; align-items: center; gap: 12px; cursor: pointer;

    .avatar-container {
      width: 40px; height: 40px; /* Трохи більша аватарка - тренд */
      flex-shrink: 0;
      border-radius: 50%;
      position: relative;

      /* Тонка внутрішня рамка для контрасту на білому фоні */
      &::after {
        content: ''; position: absolute; inset: 0;
        border-radius: 50%; border: 1px solid rgba(0,0,0,0.08); pointer-events: none;
      }

      .avatar-img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; display: block; }

      .initials {
        width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;
        background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
        border-radius: 50%; font-size: 14px; font-weight: 600; color: var(--c-text-sec);
      }
    }

    .meta-info {
      display: flex; flex-direction: column; justify-content: center;
      .username { font-weight: 600; font-size: 14px; color: var(--c-text-main); }
      .date { font-size: 12px; color: var(--c-text-sec); margin-top: 2px; }
    }
  }
}

/* --- MEDIA --- */
.post-media {
  width: 100%; background-color: #f8f8f8;
  border-top: 1px solid #efefef; border-bottom: 1px solid #efefef;

  .image-container {
    width: 100%; min-height: 250px;
    display: flex; align-items: center; justify-content: center;
    /* Smooth image rendering */
    img { width: 100%; height: auto; max-height: 650px; object-fit: contain; display: block; }
  }
}

/* --- ACTIONS BAR (MODERN) --- */
.post-actions-bar {
  padding: 8px 12px;

  .actions-left {
    display: flex; align-items: center; gap: 6px;
  }

  .action-btn {
    appearance: none; background: transparent; border: none;
    display: flex; align-items: center; gap: 6px;
    padding: 8px 10px;
    border-radius: 8px; /* Менш скруглені кути виглядають більш "tech" */
    cursor: pointer;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    color: var(--c-text-main);

    /* Відключаємо виділення тексту */
    user-select: none;
    -webkit-tap-highlight-color: transparent;

    &:hover { background-color: var(--c-hover-bg); }
    &:active { transform: scale(0.95); } /* Тактильний відгук */

    .icon-box {
      display: flex; align-items: center; justify-content: center;

      svg {
        width: 26px; height: 26px; /* Трохи більші іконки */
        stroke-width: 1.5px; /* КЛЮЧ ДО "СЕНЬЙОРСЬКОГО" ВИГЛЯДУ - тонкі лінії */
        transition: all 0.2s ease;
      }
    }

    .count-label, .label-text {
      font-size: 15px; /* Трохи більший шрифт */
      font-weight: 500; /* Не bold, а medium - це чистіше */
      line-height: 1;
    }

    .label-text { font-weight: 400; }

    /* LIKE LOGIC */
    &.like-btn {
      &:hover .icon-box svg { stroke: #555; } /* Легке потемніння при наведенні */

      &.active {
        color: var(--c-like);

        .icon-box svg {
          fill: var(--c-like);
          stroke: var(--c-like); /* Можна stroke: none, якщо хочеш стиль Instagram */
          animation: heartBounce 0.45s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        /* При лайку фон при наведенні стає ледь червонуватим */
        &:hover { background-color: rgba(255, 48, 64, 0.05); }
      }
    }

    /* COMMENT LOGIC */
    &.comment-btn {
      /* Поворот іконки коментаря трохи при наведенні - цікавий ефект */
      &:hover .icon-box svg { transform: translateY(-1px); stroke: var(--c-text-main); }
    }
  }
}

/* --- CONTENT --- */
.post-content {
  padding: 0 16px 16px;
  font-size: 15px; /* Більш читабельний шрифт */
  line-height: 1.5;

  .caption-block {
    margin-bottom: 8px;
    .post-title { font-size: 16px; font-weight: 700; margin: 0 0 6px; display: block; letter-spacing: -0.3px;}

    .post-text {
      margin: 0; white-space: pre-wrap; color: var(--c-text-main);
      .author-name-inline { font-weight: 600; margin-right: 6px; color: #000; }
    }
  }

  .view-comments-link {
    display: inline-block;
    color: var(--c-text-sec);
    cursor: pointer; margin-top: 8px;
    font-size: 14px;
    transition: color 0.2s;
    &:hover { color: var(--c-text-main); }
  }
}

/* --- COMMENTS --- */
.comments-section {
  padding: 0 16px 16px; border-top: 1px solid #efefef;

  .comments-list {
    padding: 12px 0; display: flex; flex-direction: column; gap: 10px;
    max-height: 300px; overflow-y: auto;

    .comment-item {
      font-size: 14px; line-height: 1.4;
      .c-user { font-weight: 600; margin-right: 6px; font-size: 13px; }
    }
  }

  .comment-input-wrapper {
    display: flex; align-items: center; margin-top: 4px; padding-top: 14px; border-top: 1px solid #efefef;

    input {
      flex: 1; border: none; outline: none; font-size: 14px; padding: 4px 0;
      background: transparent;
      &::placeholder { color: var(--c-text-sec); opacity: 0.8; }
    }
    .post-link-btn {
      background: none; border: none; color: var(--c-accent);
      font-weight: 600; font-size: 14px; cursor: pointer; padding: 4px 0 4px 12px;
      transition: opacity 0.2s;
      &:disabled { opacity: 0.3; cursor: default; }
      &:hover:not(:disabled) { color: #00376b; }
    }
  }
}

/* Heart Animation */
@keyframes heartBounce {
  0% { transform: scale(1); }
  40% { transform: scale(1.25); }
  100% { transform: scale(1); }
}

/* Mobile responsive */
@media (max-width: 600px) {
  .post-card { border: none; border-bottom: 1px solid var(--c-border); border-radius: 0; max-width: 100%; margin-bottom: 0; }
  /* На мобільних шрифт трохи менший */
  .post-content { font-size: 14px; }
}

/* Оновлені змінні в пост-картці */
.post-card {
  background: var(--c-bg);
  border: 1px solid rgba(0, 0, 0, 0.05); /* Ледь помітна рамка */
  border-radius: 16px; /* Більший радіус робить інтерфейс "дружнім" */
  box-shadow: 0 4px 20px -5px rgba(0, 0, 0, 0.08); /* М'яка тінь */
  overflow: hidden;
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-2px); /* Легкий підйом при наведенні */
  }
}

.post-header {
  padding: 12px 16px;
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(8px); /* Ефект матового скла в межах посту */
}

/* Кнопки дій як у сучасних SaaS */
.action-btn {
  background: var(--bg-subtle); /* Легкий сірий фон за замовчуванням */
  border-radius: 12px;
  padding: 10px 14px;

  &:hover {
    background: var(--c-primary-soft);
    color: var(--c-primary);
  }

  svg {
    stroke-width: 2px; /* Чіткіші іконки */
  }
}
